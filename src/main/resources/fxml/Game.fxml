<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>


<StackPane fx:id="root"
           prefHeight="640.0"
           prefWidth="960.0"
           style="-fx-background-color: #4e4e4e; -fx-padding: 25;"
           xmlns="http://javafx.com/javafx/17.0.12"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="at.ac.hcw.kanuescape.controller.GameController">

    <children>
        <Canvas fx:id="gameCanvas"
                height="200.0"
                width="200.0"/>

        <!-- Overlay: sichtbar nur wenn Textbox offen -->
        <AnchorPane fx:id="dialogueOverlay"
                    visible="false"
                    pickOnBounds="true"
                    style="-fx-background-color: rgba(0,0,0,0.15);">

            <children>
                <StackPane fx:id="dialogueContainer"
                           AnchorPane.leftAnchor="0"
                           AnchorPane.rightAnchor="0"
                           AnchorPane.bottomAnchor="-5"
                           alignment="BOTTOM_CENTER">

                    <!-- Textbox PNG -->
                    <ImageView fx:id="dialogueBoxImage"
                               fitWidth="800"
                               preserveRatio="true"
                               smooth="false"/>

                    <!-- Text in der Box -->
                    <Label fx:id="dialogueText"
                           wrapText="true"
                           maxWidth="650"
                           style="-fx-text-fill: white; -fx-font-size: 16px;"
                           StackPane.alignment="BOTTOM_LEFT"
                           translateX="105"
                           translateY="-140"/>

                    <!-- Arrow in der Box -->
                    <ImageView fx:id="dialogueArrow"
                               fitHeight="22"
                               preserveRatio="true"
                               smooth="false"
                               StackPane.alignment="BOTTOM_RIGHT"
                               translateX="-165"
                               translateY="-40"/>
                </StackPane>
            </children>
        </AnchorPane>
    </children>
</StackPane>
